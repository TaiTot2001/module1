<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        table, th, td {
            /*border: 1px solid white;*/
            border: 1px solid black;
            border-collapse: collapse;
            padding: 10px 15px;
            font-family: Arial, sans-serif;
            /*padding-left: 5px   ;*/
            text-align: center;
        }

        .styleCSS {
            border: 2px solid black;
            padding: 10px;
            width: fit-content;
            /*margin: auto; !*hi·ªÉn th·ªã ra gi·ªØa trang web *!*/
        }
    </style>
</head>
<body>
<div class="styleCSS">
    <button type="submit" id="addStudent" onclick="addStudent()">Th√™m m·ªõi h·ªçc vi√™n</button>
    <button type="submit" id="editStudent" onclick="editStudent()">S·ª≠a th√¥ng tin h·ªçc vi√™n</button>
    <button type="submit" id="deleteStudent" onclick="deleteStudent()">X√≥a h·ªçc vi√™n</button>
    <br><br>
    <table>
        <thead>
        <tr>
            <th> M√£ h·ªçc vi√™n</th>
            <th> T√™n</th>
            <th> L·ªõp</th>
            <th> Email</th>
            <th> Ng√†y sinh</th>
        </tr>
        </thead>
        <tbody id="studentList">
        </tbody>
    </table>
</div>
<script>
    class Student {
        id;
        name;
        classId;
        email;
        dateOfBirth;

        constructor(id, name, classId, email, dateOfBirth) {
            this.id = id;
            this.name = name;
            this.classId = classId;
            this.email = email;
            this.dateOfBirth = dateOfBirth;
        }
    }

    const student = [
        new Student('HV-0001', 'Nguy·ªÖn VƒÉn A', 'C1022G1', 'nguyenvana@gmail.com', "01/01/2004"),
        new Student('HV-0002', 'Nguy·ªÖn VƒÉn B', 'C1122G1', 'nguyenvanb@gmail.com', "02/02/2004"),
        new Student('HV-0003', 'Nguy·ªÖn Th·ªã C', 'C1222G1', 'nguyenthic@gmail.com', '03/03/2004'),
    ];

    function displayStudent() {
        let tableBody = document.getElementById("studentList");
        tableBody.innerHTML = "";
        let row = '';
        for (let i = 0; i < student.length; i++) {
            console.log(student[i]);
            row += `
<tr>
     <td>${student[i].id}</td>
     <td>${student[i].name}</td>
     <td>${student[i].classId}</td>
     <td>${student[i].email}</td>
     <td>${student[i].dateOfBirth}</td>
</tr>
        `
        }
        tableBody.innerHTML = row;
    }

    displayStudent();

    function addStudent() {
        // event.preventDefault();// NgƒÉn form reload l·∫°i trang

        let id = prompt("Nh·∫≠p m√£ h·ªçc vi√™n (VD: HV-0004):");
        let name = prompt("Nh·∫≠p t√™n h·ªçc vi√™n:");
        let classId = prompt("Nh·∫≠p l·ªõp:");
        let email = prompt("Nh·∫≠p email:");
        let dateOfBirth = prompt("Nh·∫≠p ng√†y sinh (dd/mm/yyyy):");

        if (id && name && classId && email && dateOfBirth) {
            let newStudent = new Student(id, name, classId, email, dateOfBirth);
            student.push(newStudent);
            displayStudent(); // Hi·ªÉn th·ªã l·∫°i danh s√°ch
        } else {
            alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin h·ªçc vi√™n.");
        }
    }

    function editStudent() {
        let checkId = prompt("Nh·∫≠p m√£ h·ªçc vi√™n c·∫ßn s·ª≠a")
        for (let i = 0; i < student.length; i++) {
            if (checkId === student[i].id) {
                let select = prompt(`
                B·∫°n mu·ªën s·ª≠a m·ª•c n√†o c·ªßa h·ªçc vi√™n ${checkId} :
                0. S·ª≠a m√£ h·ªçc vi√™n
                1. S·ª≠a t√™n
                2. S·ª≠a l·ªõp
                3. S·ª≠a email
                4. S·ª≠a ng√†y sinh
                5. S·ª≠a t·∫•t c·∫£
                ƒêi·ªÅn s·ªë t·ª´ 0-5 ƒë·ªÉ ch·ªçn m·ª•c t∆∞∆°ng ·ª©ng m√† b·∫°n mu·ªën s·ª≠aüòÑ.
                `)
                while (+select > 5 || +select < 0 || select === "" || isNaN(select)) {
                    select = prompt(`
                    B·∫°n ƒë√£ nh·∫≠p sai!
                    Vui l√≤ng nh·∫≠p gi√° tr·ªã 0-5 t∆∞∆°ng ·ª©ng v·ªõi c√°c m·ª•c sau:
                    0. S·ª≠a m√£ h·ªçc vi√™n
                    1. S·ª≠a t√™n
                    2. S·ª≠a l·ªõp
                    3. S·ª≠a email
                    4. S·ª≠a ng√†y sinh
                    5. S·ª≠a t·∫•t c·∫£
                    `)
                }
                if (select === null) {
                    alert("Ch∆∞∆°ng tr√¨nh ƒë√£ tho√°t !")
                    return;
                } else if (+select === 0) {
                    let id = prompt("Nh·∫≠p m√£ h·ªçc vi√™n (VD: HV-0004):");
                    student[i].id = id;
                    alert("B·∫°n ƒë√£ s·ª≠a th√†nh c√¥ng")
                    displayStudent();
                    return;
                } else if (+select === 1) {
                    let name = prompt("Nh·∫≠p t√™n h·ªçc vi√™n:");
                    student[i].name = name;
                    alert("B·∫°n ƒë√£ s·ª≠a th√†nh c√¥ng")
                    displayStudent();
                    return;
                } else if (+select === 2) {
                    let classId = prompt("Nh·∫≠p l·ªõp:");
                    student[i].classId = classId;
                    alert("B·∫°n ƒë√£ s·ª≠a th√†nh c√¥ng")
                    displayStudent();
                    return;
                } else if (+select === 3) {
                    let email = prompt("Nh·∫≠p email:");
                    student[i].email = email;
                    alert("B·∫°n ƒë√£ s·ª≠a th√†nh c√¥ng")
                    displayStudent();
                    return;
                } else if (+select === 4) {
                    let dateOfBirth = prompt("Nh·∫≠p ng√†y sinh (dd/mm/yyyy):");
                    student[i].dateOfBirth = dateOfBirth;
                    alert("B·∫°n ƒë√£ s·ª≠a th√†nh c√¥ng")
                    displayStudent();
                    return;
                } else if (+select === 5) {
                    let id = prompt("Nh·∫≠p m√£ h·ªçc vi√™n (VD: HV-0004):");
                    if (id === null) return;

                    let name = prompt("Nh·∫≠p t√™n h·ªçc vi√™n:");
                    if (name === null) return;

                    let classId = prompt("Nh·∫≠p l·ªõp:");
                    if (classId === null) return;

                    let email = prompt("Nh·∫≠p email:");
                    if (email === null) return;

                    let dateOfBirth = prompt("Nh·∫≠p ng√†y sinh (dd/mm/yyyy):");
                    if (dateOfBirth === null) return;

                    student[i].id = id;
                    student[i].name = name;
                    student[i].classId = classId;
                    student[i].email = email;
                    student[i].dateOfBirth = dateOfBirth;

                    alert("B·∫°n ƒë√£ s·ª≠a t·∫•t c·∫£ th√¥ng tin th√†nh c√¥ng");
                    displayStudent();
                    return;
                }
                // else{
                //     alert("Ch∆∞∆°ng tr√¨nh ƒë√£ tho√°t !")
                //     return;
                // }

            } else if (checkId === null) {
                alert("B·∫°n ƒë√£ h·ªßy s·ª≠a th√¥ng tin sinh vi√™n!")
                return;
            }
        }
        if (+checkId === null) {
            alert("Ch∆∞∆°ng tr√¨nh ƒë√£ tho√°t !");
        }
        else {
            alert(`M√£ sinh vi√™n b·∫°n t√¨m kh√¥ng t·ªìn t·∫°i !`)
        }
    }


    function deleteStudent() {
        let checkId = prompt("Nh·∫≠p m√£ h·ªçc vi√™n c·∫ßn x√≥a");
        if (checkId === null || checkId === "") {
            alert("B·∫°n ƒë√£ h·ªßy x√≥a th√¥ng tin h·ªçc vi√™n!");
            return;
        }
        for (let i = 0; i < student.length; i++) {
            if (checkId === student[i].id) {
                if (confirm(`B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a h·ªçc vi√™n c√≥ m√£ "${checkId}" kh√¥ng?`)) {
                    student.splice(i, 1);
                    displayStudent();
                    return;
                } else {
                    return;
                }
            }
        }
        alert(`M√£ sinh vi√™n b·∫°n t√¨m kh√¥ng t·ªìn t·∫°i!`)
    }
</script>
</body>
</html>